
ブランチを作成するにはgit branchコマンドを使用する。分岐元のブランチから新しいブランチが作成される。分岐元ブランチ名にはタグも使用できる。
    git branch <新規ブランチ名> <分岐元ブランチ名>

###### -aパラメータでGitが承知している全ての変更されたファイルをコミットする。この場合ステージを行う必要がない（ステージも同時に行う？）

    git commmit -a

###### 自分のリポジトリにおけるタグ一覧の確認

    git tag

###### リベース
ブランチから変更を取り出して、それを別のブランチの先頭で再生する

リベース先のブランチに切り替えてからgit rebaseコマンドを実行する

    git rebase <リベース元ブランチ>

###### ブランチの削除

-dパラメータを付けてgit branchコマンドを実行
    git branch -d

###### リリースのアーカイブの作成

タグを打った時点のtarボールかzipファイルでアーカイブを作成する。git archiveコマンドを使用する。

gitで固めたmysiteプロジェクトtarボールを作成する例

    git archive --format=tar --prefix=mysite-1.0/ 1.0 | grep > mysite-1.0.tar.gz

--formatでtarを出力するようGitに伝えている。--prefixで全体をmysite-1.0/ディレクトリ以下に置くようGitに伝えている。最後の1.0ではアーカイブに格納するものを決める際にこのタグを使うようGitに伝えている。

zipファイルの場合は以下

    git archive --format=zip --prefix=mysite-1.0/ 1.0 > mysite-1.0.zip

#### リモートリポジトリのクローンの作成

リモートリポジトリで作業を始めるには、git cloneコマンドでリモートリポジトリのクローンを作成する。クローンはリモートリポジトリの完全なコピーである。

    git clone <クローンのリポジトリの場所> <取り込むディレクトリ>

二つ目のパラメータは省略可能

#### ファイルの追加

git addコマンドでGitが変更をコミットのためにステージする。ファイル名は複数でも可能。

    git add <ファイル名>

###### ステージされた変更

作業ツリーにおける変更のうち、その変更をリポジトリに伝えたいもの。変更をステージすると、Gitのインデックスが更新される。Gitのインデックスはステージングエリアと呼ばれることも多い。
ステージする必要性〜〜

###### 対話モード

    git add -i

###### ハンク

ファイル内の変更のこと。連続した変更箇所が一つのハンクとみなされ、ファイルの別々な部分に対する変更がそれぞれハンクになる。

###### パッチモード

パッチモードで追加したいファイルを選び（複数可能）、変更されたファイルの差分が表示され、その変更を追加するかどうかを選べる。
※変更点が複数の場合の動作はどうなるか？
###### パッチモードを直接立ち上げるショートカット

    git add -p

#### 変更のコミット

コミットをする際に複雑なメッセージを付けるときは、-mオプションなしでgit commitを実行し、エディタを起動する。

###### コミットを作る3つの方法

1. git addを使用する方法

git addでステージし、git commitでコミットする。git add -pでファイルの一部だけをコミットしたいときに便利。

    git add <filename>
    git commit -m "message"

2. git commitに-aパラメータを付ける方法

-aパラメータは自分の作業ツリーの最新バージョンを取り出してそれをリポジトリにコミットするようGitに伝える。ただし、まだ追跡していないファイルは追加されない。

    git commit -m "message" -a

3. コミットしたいファイルを指定する

-aパラメータと同じく作業ツリーから最新バージョンが取り出されるが、取り出されるのは指定したファイルだけ。変更された複数のファイルのうち一つを取り出してコミットする必要がある場合に便利。

    git commit -m "message" <filename>

1はステージした変更がコミットされ、2,3は存在するファイルがコミットされるという違いがある。

#### 変更したものを確認する

###### 現在の状況を見る

自分のリポジトリで起こったあらゆる変更を見るにはgit statusを使う。コミット待ちの変更や現在の作業ツリーがリポジトリで追跡されているものと比べてどう違うのかなどが表示される。

###### git statusの項目

Change to be committed

コミット待ちの変更

Changes not staged for commit:

ステージされていない変更

###### 差分を見る

git diffコマンドで、作業ツリーにあるもの、ステージされていてコミット待ちのもの、リポジトリにあるものについて、お互いの差分が表示できる。
パラメータなしで呼び出すと、ステージングエリアに対する作業ツリー上の変更が表示される

ステージングエリアとリポジトリ間の差分を見るには--cachedパラメータを追加する

ステージングエリアの変更を含め、作業ツリー上にあるすべてをリポジトリ上にあるものと比較する場合はHEADを付ける。HEADは現在作業しているブランチに対する直近のコミットを表すキーワードである。

#### ファイル名の変更とファイルの移動

以下のコマンドで実行する。ふぃある名の変更や移動をした後に、新しいファイルに対するgit addと古いファイルに対するfgit rm（削除）を実行してくれる。

git mv <元のファイル名> <新しいファイル名>

###### ファイルを無視する

.gitignoreファイルか.git/info/execludeファイルに無視するファイル名や規則を記述する。.gitignoreはリポジトリ単位の無視、.git/info/execludeはローカルに無視する。

<hr>
## ブランチ
ブランチを作る意義について〜〜

###### ブランチ名の変更

    git branch -m <oldname> <newname>

###### ブランチを作る目的
* 実験的な変更のため
* 新しい機能追加のため
* バグフィックスのため

###### ブランチを確認する

    git branch

ブランチ名の横にアスタリスクが付いているものは現在チェックアウトされているブランチ

###### ブランチの切り替え

    gir checkout <ブランチ名>

###### ブランチを新しく作り、すぐチェックアウトして作業を開始するためのショートカット
ブランチの作成とチェックアウトを一発でできる


    git checkout -b <新ブランチ名> <元のブランチ名>

###### ブランチ間での変更のマージ

ブランチ間で変更を共有することをマージと呼ぶ

* 直接マージ

あるブランチと別なブランチの履歴をマージして一緒にしようとすること。あるブランチの履歴全体を別のブランチへと引き込みたいときに使う。
マージ先にしたいブランチへ切り替え、現在のブランチへとマージさせたいブランチ名を指定するのがシンプルな使い方。

    git merge <マージさせたいブランチ名>

* 圧縮コミット

あるブランチの変更を圧縮(squash)して、それを別なブランチの先頭にコミットすること。１つのブランチの全履歴を取り出し、それを別なブランチにおける１つのコミットに圧縮する。あるブランチにおける何回かの変更が、１つのまとまった変更を表すものならば圧縮コミットを使うことを考えてよい。
圧縮コミットにはgit mergeに--squashパラメータを付けて使う

    git merge --squash <マージさせたいブランチ名>

この状態ではまだコミットされておらず、マージ元のブランチのすべてのコミットが作業ツリーに適用されステージされた状態になる。

* チェリーピック（つまみ食い）

別なブランチからコミットを１つ取ってきて、それを現在のブランチに適用すること。ブランチ間で一つだけコミットをマージする必要があり、全部はマージしなくてよい場合に使用する。

    git cherry-pick <マージ元のコミット名>

#### 競合への対処

２つの違うブランチにある同じファイルを違った仕方で編集し、マージしようとすると競合(conflict)が起こる。
###### 競合

Gitが自動的にコミットを１つにマージできないこと

説明〜〜

    git mergetool

#### ブランチの削除

git branchコマンドに-dパラメータを付けて削除する。この方法は削除しようとしているブランチが現在作業中のブランチにきちんとマージされているときだけうまくいく。

    git branch -d <ブランチ名>

マージなしでブランチを削除したい場合は、-Dパラメータを付けて実行する

    git branch -D <ブランチ名>

#### ブランチ名の変更

    git branch -m <変更前> <変更後>

<hr>
## Gitの履歴を使った作業

#### Gitのログを調べる

リポジトリに起きた出来事を調べる一般的な方法としてコミットログがある。
新たに作成されたコミットごとに、そのログエントリが作成者および作成日時と一緒に表示される。

    git log

４つのログの情報
* コミット名 
* 作成者
* 日付
* ログメッセージ

-pオプションを付けるとそのリビジョンで作られた差分が表示される。

    git log -p


-n (nは数字)オプションを付けるとログをnの数だけに限定できる。

    git log -2

オプションとしてリビジョンを指定すれば、そのリビジョンから始まるログを確認できる。

    git log <リビジョン>

#### リビジョンの範囲を指定する

オプションの--sinceと--beforeで日時を表す様々な表現を指定できる。
--since="5 hours"や--since="1 minute"、--before="2010-10-01"など。

2つのオプションを「古いリビジョン名..新しいリビジョン名」のように指定してコミットの範囲を渡すことができる。この場合古いリビジョンの方を先に指定する。

    git log 12345ab..98765dc

この場合の範囲は12345abの後からになり、12345abは含まれない。

リポジトリの現在のブランチの最新のリビジョンにはHEADという別名があり、これを指定することもできる。また、HEADは省略できる。

    git log 12345ab..HEAD

    git log 12345ab..

範囲指定ではコミット名の代わりにタグを使用してもよい。あるタグ以降の変更点を確認したい場合や、２つのタグ間のリビジョンの履歴を確認したい場合に便利である。

    git log <tagname>..HEAD

キャレット「^」はマイナス1を意味するので、例えば12345ab^^は12345abの2つ前のリビジョンとして解釈される。

チルダ「~」と数字Nでそのコミット名からNだけ前に戻ることを意味する。

#### バージョン間の差分を見る

    git diff <リビジョン名>

タグと一緒に使用すると、リリース間での統計情報を得られる。

--statオプションで施された変更についての統計情報を表示する。タグを1つだけ指定した場合は、HEADに対して比較する。

    git diff --stat 1.0

#### blame

あとでまとめる〜〜

#### コンテンツの追跡

あとでまとめる〜〜

#### 変更の取り消し

###### コミットの訂正

直前のコミットを修正する場合、修正して変更をステージし、コミットするときに--amendを付ける。-Cオプションは、新しいログメッセージを渡す代わりに指定したコミットのログメッセージを使用するようにGitに伝える。小文字の-cオプションを付けると、指定したコミットのログメッセージが記入された状態でエディタが立ち上がる。コミットの訂正は直近のコミットで作業している場合のみにする。

    git commit -C HEAD -a --amend

###### コミットの取り消し

作成済みのコミットを取り消す必要がある際に行う。
既にあるコミットを取り消す方法としてはgit revertがある。このコマンドは既にあるコミットに含まれる変更をすべて巻き戻す新しいコミットを作ることにより、コミットを１つ取り消す(revert)

    git revert <コミット名>
    git revert -n <コミット名>

-nパラメータを付けることで、すぐにコミットされずにステージされる

###### 変更をリセットする

説明〜〜

    git reset --hard HEAD







git log --pretty=oneline
